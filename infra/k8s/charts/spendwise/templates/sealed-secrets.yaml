{{- if .Values.sealedSecrets.enabled }}
# Sealed Secrets â€” encrypted at rest, safe to commit to Git
# Generate with: kubeseal --format yaml < secret.yaml > sealed-secret.yaml
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: {{ include "spendwise.secretName" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "spendwise.labels" . | nindent 4 }}
spec:
  encryptedData:
    # Replace these with actual sealed values from kubeseal
    DB_PASSWORD: "AgBy3i4OJSWK+PiTySYZZA9rO43cGDEq..."
    JWT_SECRET: "AgCtr7fPSEWK+RiUyYZZA8rP53dHEFr..."
  template:
    metadata:
      name: {{ include "spendwise.secretName" . }}
      namespace: {{ .Release.Namespace }}
    type: Opaque
{{- end }}
