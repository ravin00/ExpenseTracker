# Dev environment overrides
environment: Development
global:
  image:
    pullPolicy: IfNotPresent # Use local images if available

# Reduce resource usage for local dev
authService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

expenseService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

categoryService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

budgetService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

savingsGoalService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

analyticsService:
  replicas: 1
  autoscaling:
    enabled: false
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi
ingress:
  enabled: false
  ignoreHealthCheck: true
  host: dev.spendwise.local
secrets:
  existingSecretName: spendwise-secrets
  create: false

# Local dev image hardening compatibility:
# Current backend/postgres images require root startup on local PV/runtime.
# Keep stricter defaults in values.yaml for staging/prod.
podSecurityContext:
  runAsNonRoot: false
  runAsUser: 0
  runAsGroup: 0
  seccompProfile:
    type: RuntimeDefault

containerSecurityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop:
      - NET_RAW
